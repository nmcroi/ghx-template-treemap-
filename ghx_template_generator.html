<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Upload Prijslijst - GHX</title>
  <style>
    :root{
      /* Kleuren (GHX huisstijl) */
      --ghx-blue:   #002e6d;
      --ghx-orange: #f26a21;
      --panel-gray: #f5f5f5;
      --panel-border:#e6e6e6;
      --ink: #1b1b1b;
      --bg: #ffffff;
      --success-green: #28a745;
      --warning-yellow: #ffc107;
      --text-gray: #6c757d;
    }

    /* Basis */
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.5;
    }

    /* Blauwe topbalk */
    .topbar{
      background: var(--ghx-blue);
      height: 96px;
      display:flex;
      align-items:center;
    }
    .topbar__inner{
      width:min(1200px, 94vw);
      margin-inline:auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .logo-wrap{
      display:flex; align-items:center; gap:4px;
    }
    .logo{
      height:50px; display:block;
    }
    .nav-links{
      display: flex;
      gap: 24px;
      color: white;
      font-size: 14px;
    }
    .nav-link{
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      padding: 8px 12px;
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    .nav-link:hover, .nav-link.active{
      background: rgba(255,255,255,0.2);
      color: white;
    }
    .user-info{
      color: rgba(255,255,255,0.9);
      font-size: 14px;
      font-weight: 500;
    }

    /* Oranje navigatiebalk */
    .nav{
      background: var(--ghx-orange);
      height: 40px;
      position: relative;
    }
    .nav__inner{ 
      width:min(1200px, 94vw); 
      margin-inline:auto; 
      height:100%;
      display: flex;
      align-items: center;
    }
    .breadcrumb{
      color: white;
      font-size: 14px;
      font-weight: 500;
    }

    /* Page title */
    .page-header{
      width:min(1200px, 94vw);
      margin: 28px auto 24px;
    }
    .page-title{
      font-size: 28px;
      font-weight: 600;
      color: var(--ink);
      margin: 0;
    }

    /* Content en panelen */
    .content{
      width:min(1200px, 94vw);
      margin: 0 auto 48px;
      display:grid;
      grid-template-columns: 240px 1fr 280px;
      gap:24px;
    }

    .panel{
      background: white;
      border: 1px solid var(--panel-border);
      border-radius: 6px;
      min-height: 320px;
      position: relative;
      box-shadow: 0 2px 4px rgba(0,0,0,.05);
    }

    /* Oranje tabje linksboven */
    .panel::before{
      content:"";
      position:absolute;
      top:0; left:0;
      width: 58px; height: 8px;
      background: var(--ghx-orange);
      border-top-left-radius:6px;
      border-bottom-right-radius:6px;
    }

    .panel__body{ 
      padding: 20px;
    }

    .panel__title{
      font-size: 18px;
      font-weight: 600;
      color: var(--ink);
      margin: 0 0 16px 0;
    }

    /* Form styling */
    .form-group{
      margin-bottom: 20px;
    }
    .form-label{
      display: block;
      font-weight: 500;
      margin-bottom: 6px;
      color: var(--ink);
    }
    .form-control{
      width: 100%;
      padding: 10px 12px;
      border: 2px solid #e0e7ff;
      border-radius: 6px;
      font-family: inherit;
      font-size: 14px;
      transition: border-color 0.2s ease;
    }
    .form-control:focus{
      outline: none;
      border-color: var(--ghx-orange);
      box-shadow: 0 0 0 3px rgba(242, 106, 33, 0.1);
    }

    /* Radio buttons styling */
    .radio-group{
      display: flex;
      gap: 16px;
    }
    .radio-item{
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .radio-item input[type="radio"]{
      accent-color: var(--ghx-orange);
    }

    /* Multi-select styling */
    .multi-select{
      border: 2px solid #e0e7ff;
      border-radius: 6px;
      min-height: 80px;
      padding: 8px;
    }
    .multi-select option{
      padding: 4px 8px;
    }

    /* Buttons */
    .btn{
      padding: 12px 24px;
      border: none;
      border-radius: 6px;
      font-family: inherit;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn-primary{
      background: linear-gradient(90deg, var(--ghx-orange), #ff8533);
      color: white;
    }
    .btn-primary:hover{
      background: linear-gradient(90deg, #e55a00, var(--ghx-orange));
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(242, 106, 33, 0.3);
    }
    .btn-secondary{
      background: #f8f9fa;
      color: var(--text-gray);
      border: 1px solid var(--panel-border);
    }
    .btn-secondary:hover{
      background: #e9ecef;
    }

    /* Progress steps */
    .progress-container{
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 24px 0;
      gap: 12px;
    }
    .progress-step{
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      color: var(--text-gray);
      background: #f8f9fa;
      border: 2px solid #e9ecef;
    }
    .progress-step.active{
      background: var(--ghx-orange);
      color: white;
      border-color: var(--ghx-orange);
    }
    .progress-step.completed{
      background: var(--success-green);
      color: white;
      border-color: var(--success-green);
    }
    .progress-line{
      width: 40px;
      height: 2px;
      background: #e9ecef;
    }
    .progress-line.completed{
      background: var(--success-green);
    }

    /* Alert boxes */
    .alert{
      padding: 12px 16px;
      border-radius: 6px;
      margin: 16px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .alert-info{
      background: #e3f2fd;
      border: 1px solid #bbdefb;
      color: #1565c0;
    }
    .alert-warning{
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      color: #856404;
    }
    .alert-success{
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
    }

    /* Upload area */
    .upload-area{
      border: 2px dashed #c3c3c3;
      border-radius: 8px;
      padding: 32px;
      text-align: center;
      background: #fafafa;
      margin: 16px 0;
      transition: all 0.2s ease;
    }
    .upload-area:hover{
      border-color: var(--ghx-orange);
      background: #fff7f0;
    }
    .upload-icon{
      font-size: 48px;
      color: #c3c3c3;
      margin-bottom: 12px;
    }

    /* Responsive */
    @media (max-width: 960px){
      .content{ 
        grid-template-columns: 1fr;
        gap: 16px;
      }
      .panel{ min-height: 200px; }
      .nav-links{ display: none; }
    }

    /* Utility classes */
    .text-center{ text-align: center; }
    .text-muted{ color: var(--text-gray); }
    .mb-0{ margin-bottom: 0; }
    .mb-2{ margin-bottom: 8px; }
    .mb-3{ margin-bottom: 16px; }
    .mt-3{ margin-top: 16px; }
    .hidden{ display: none; }

    /* Context preview */
    .context-preview{
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 6px;
      padding: 12px;
      font-family: monospace;
      font-size: 12px;
    }

    /* Summary cards */
    .summary-grid{
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin: 16px 0;
    }
    .summary-card{
      background: white;
      border: 1px solid var(--panel-border);
      border-radius: 6px;
      padding: 16px;
      text-align: center;
      border-top: 3px solid var(--ghx-orange);
    }
    .summary-value{
      font-size: 24px;
      font-weight: 700;
      color: var(--ghx-blue);
      margin-bottom: 4px;
    }
    .summary-label{
      font-size: 12px;
      color: var(--text-gray);
      text-transform: uppercase;
      font-weight: 500;
    }
  </style>
</head>
<body>

  <!-- Blauwe header met logo en navigatie -->
  <header class="topbar">
    <div class="topbar__inner">
      <div class="logo-wrap">
        <img src="static/ghx_logo.png" alt="GHX" class="logo">
      </div>
      <div class="nav-links">
        <a href="#" class="nav-link">Home</a>
        <a href="#" class="nav-link">Berichtencentrum</a>
        <a href="#" class="nav-link">Orders</a>
        <a href="#" class="nav-link">Leveranciers</a>
        <a href="#" class="nav-link">VTA Analyse</a>
        <a href="#" class="nav-link">Status</a>
        <a href="#" class="nav-link">Artikelen</a>
        <a href="#" class="nav-link">Rapportages</a>
        <a href="#" class="nav-link active">Prijslijst</a>
        <a href="#" class="nav-link">Applicatie onderhoud</a>
      </div>
      <div class="user-info">mariska</div>
    </div>
  </header>

  <!-- Oranje breadcrumb balk -->
  <div class="nav">
    <div class="nav__inner">
      <div class="breadcrumb">Prijslijst > Upload Prijslijst</div>
    </div>
  </div>

  <!-- Page title -->
  <div class="page-header">
    <h1 class="page-title">Upload Prijslijst</h1>
  </div>

  <!-- Progress indicator -->
  <div class="progress-container">
    <div class="progress-step active">1</div>
    <div class="progress-line"></div>
    <div class="progress-step">2</div>
    <div class="progress-line"></div>
    <div class="progress-step">3</div>
  </div>

  <!-- Main content: 3 kolommen zoals GHX layout -->
  <main class="content">
    
    <!-- Linker panel: Zoeken/Filter (zoals in GHX) -->
    <section class="panel">
      <div class="panel__body">
        <h3 class="panel__title">Zoeken</h3>
        
        <div class="form-group">
          <label class="form-label">Leverancier</label>
          <select class="form-control">
            <option>Biosolve BV</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Besteller</label>
          <input type="text" class="form-control" placeholder="Zoek besteller...">
        </div>

        <div class="form-group">
          <button class="btn btn-secondary" style="width: 100%;">🔍 Zoeken</button>
        </div>

        <hr style="margin: 20px 0; border: none; border-top: 1px solid #e9ecef;">

        <div class="form-group">
          <button class="btn btn-secondary" style="width: 100%;">❌ Annuleren</button>
        </div>
      </div>
    </section>

    <!-- Middenpanel: Hoofdformulier -->
    <section class="panel">
      <div class="panel__body">
        <h3 class="panel__title">Prijslijst uploaden</h3>
        
        <!-- Hoofdvraag zoals in GHX -->
        <div class="form-group">
          <label class="form-label">Is de prijslijst voor 1 of meerdere bestellers?</label>
          <div class="radio-group">
            <div class="radio-item">
              <input type="radio" name="bestellers" id="een-besteller" value="1" checked>
              <label for="een-besteller">1 besteller</label>
            </div>
            <div class="radio-item">
              <input type="radio" name="bestellers" id="meer-bestellers" value="meerdere">
              <label for="meer-bestellers">Meerdere bestellers</label>
            </div>
          </div>
        </div>

        <!-- Besteller selectie -->
        <div class="form-group">
          <label class="form-label">Besteller</label>
          <select class="form-control multi-select" multiple size="4">
            <option value="UMCU">UMCU</option>
            <option value="LUMC">LUMC</option>
            <option value="AMC">AMC</option>
            <option value="VUmc">VUmc</option>
            <option value="Erasmus MC">Erasmus MC</option>
            <option value="MUMC">MUMC</option>
          </select>
          <small class="text-muted">Houd Ctrl ingedrukt voor meerdere selecties</small>
        </div>

        <!-- Startdatum -->
        <div class="form-group">
          <label class="form-label">Startdatum prijslijst</label>
          <input type="date" class="form-control" value="2025-08-15">
        </div>

        <!-- Staffelbestand -->
        <div class="form-group">
          <label class="form-label">Staffelbestand</label>
          <div class="radio-group">
            <div class="radio-item">
              <input type="radio" name="staffel" id="staffel-ja" value="ja">
              <label for="staffel-ja">Ja</label>
            </div>
            <div class="radio-item">
              <input type="radio" name="staffel" id="staffel-nee" value="nee" checked>
              <label for="staffel-nee">Nee</label>
            </div>
          </div>
        </div>

        <!-- Geavanceerde opties (ingeklapt) -->
        <details style="margin: 24px 0;">
          <summary style="cursor: pointer; font-weight: 500; color: var(--ghx-blue);">🔧 Geavanceerde Configuratie</summary>
          <div style="margin-top: 16px; padding: 16px; background: #f8f9fa; border-radius: 6px;">
            
            <div class="form-group">
              <label class="form-label">GS1 Modus</label>
              <select class="form-control">
                <option value="none">Geen GS1</option>
                <option value="gs1">GS1 Standaard</option>
                <option value="gs1_only">Alleen GS1</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Product Type</label>
              <select class="form-control">
                <option value="medisch">Medisch</option>
                <option value="lab">Lab</option>
                <option value="facilitair">Facilitair</option>
                <option value="mixed">Mixed</option>
              </select>
            </div>

            <div class="form-group">
              <div class="radio-item">
                <input type="checkbox" id="orderable">
                <label for="orderable">Besteleenheid terminologie</label>
              </div>
            </div>

            <div class="form-group">
              <div class="radio-item">
                <input type="checkbox" id="chemicals">
                <label for="chemicals">Chemicaliën/safety velden</label>
              </div>
            </div>

          </div>
        </details>

        <!-- Context Preview -->
        <div class="form-group">
          <label class="form-label">Context Preview</label>
          <div class="context-preview" id="context-preview">
            {
              "template_choice": "custom",
              "gs1_mode": "none", 
              "all_orderable": false,
              "product_type": "medisch",
              "has_chemicals": false,
              "is_staffel_file": false,
              "institutions": [],
              "version": "v1.0.0"
            }
          </div>
        </div>

        <!-- Submit button -->
        <div class="form-group text-center" style="margin-top: 32px;">
          <button class="btn btn-primary" onclick="nextStep()">
            ➡️ Verstuur
          </button>
        </div>

      </div>
    </section>

    <!-- Rechterpanel: Documentatie en voorwaarden -->
    <section class="panel">
      <div class="panel__body">
        <h3 class="panel__title">Documenten</h3>
        
        <div class="alert alert-info">
          <div>
            <strong>📋 Handleiding leveranciersportaal</strong><br>
            <small>Uitleg over het uploaden van prijslijsten</small>
          </div>
        </div>

        <div class="alert alert-info">
          <div>
            <strong>📋 Manual supplier portal</strong><br>
            <small>English documentation</small>
          </div>
        </div>

        <div class="alert alert-info">
          <div>
            <strong>📋 Template prijslijst</strong><br>
            <small>Download het juiste template</small>
          </div>
        </div>

        <hr style="margin: 20px 0;">

        <h4 style="font-size: 14px; margin-bottom: 12px;">📥 Download template formaat</h4>
        <button class="btn btn-secondary" style="width: 100%; margin-bottom: 16px;">
          📄 Download Template
        </button>

        <div style="margin-top: 24px;">
          <h4 style="font-size: 16px; margin-bottom: 12px;">Voorwaarden</h4>
          <ul style="font-size: 13px; color: var(--text-gray); padding-left: 16px;">
            <li>De prijslijst moet een Excel-bestand zijn in het formaat .xlsx</li>
            <li>De sheet waar de prijzen en productinformatie in staat moet de eerste sheet zijn</li>
            <li>Er mogen geen verwijzingen en/of (Excel) formules in de velden van de productinformatie staan</li>
          </ul>
        </div>

      </div>
    </section>

  </main>

  <script>
    // JavaScript voor interactiviteit
    function nextStep() {
      // Update progress
      document.querySelectorAll('.progress-step')[0].classList.remove('active');
      document.querySelectorAll('.progress-step')[0].classList.add('completed');
      document.querySelectorAll('.progress-step')[1].classList.add('active');
      document.querySelectorAll('.progress-line')[0].classList.add('completed');
      
      // Show step 2 (zou normaal naar andere pagina/view gaan)
      showStep2();
    }

    function showStep2() {
      // Update main content voor stap 2
      const middenpanel = document.querySelector('.content .panel:nth-child(2) .panel__body');
      middenpanel.innerHTML = `
        <h3 class="panel__title">Template Genereren</h3>
        
        <div class="summary-grid">
          <div class="summary-card">
            <div class="summary-value">MEDISCH</div>
            <div class="summary-label">Product Type</div>
          </div>
          <div class="summary-card">
            <div class="summary-value">NONE</div>
            <div class="summary-label">GS1 Modus</div>
          </div>
          <div class="summary-card">
            <div class="summary-value">0</div>
            <div class="summary-label">Instellingen</div>
          </div>
        </div>

        <div class="alert alert-info">
          <strong>📋 Configuratie Bevestigd</strong><br>
          Je context is geldig en klaar voor template generatie.
        </div>

        <div class="text-center" style="margin: 32px 0;">
          <button class="btn btn-primary" onclick="generateTemplate()">
            🚀 Genereer Aangepast Template
          </button>
        </div>

        <div id="progress-area" class="hidden">
          <div style="background: #f8f9fa; padding: 16px; border-radius: 6px; margin: 16px 0;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span id="progress-text">Template genereren...</span>
              <span id="progress-percent">0%</span>
            </div>
            <div style="background: #e9ecef; border-radius: 10px; height: 8px;">
              <div id="progress-bar" style="background: var(--ghx-orange); height: 100%; border-radius: 10px; width: 0%; transition: width 0.3s ease;"></div>
            </div>
          </div>
        </div>
      `;
    }

    function generateTemplate() {
      const progressArea = document.getElementById('progress-area');
      const progressBar = document.getElementById('progress-bar');
      const progressText = document.getElementById('progress-text');
      const progressPercent = document.getElementById('progress-percent');
      
      progressArea.classList.remove('hidden');
      
      // Simuleer template generatie met progress
      const steps = [
        {text: "Field mapping laden...", percent: 20},
        {text: "Template engine initialiseren...", percent: 40}, 
        {text: "Veld beslissingen berekenen...", percent: 60},
        {text: "Excel template genereren...", percent: 90},
        {text: "Template succesvol gegenereerd!", percent: 100}
      ];
      
      let currentStep = 0;
      const interval = setInterval(() => {
        if (currentStep < steps.length) {
          const step = steps[currentStep];
          progressText.textContent = step.text;
          progressPercent.textContent = step.percent + '%';
          progressBar.style.width = step.percent + '%';
          currentStep++;
        } else {
          clearInterval(interval);
          setTimeout(showStep3, 500);
        }
      }, 800);
    }

    function showStep3() {
      // Update progress
      document.querySelectorAll('.progress-step')[1].classList.remove('active');
      document.querySelectorAll('.progress-step')[1].classList.add('completed');
      document.querySelectorAll('.progress-step')[2].classList.add('active');
      document.querySelectorAll('.progress-line')[1].classList.add('completed');
      
      // Show download step
      const middenpanel = document.querySelector('.content .panel:nth-child(2) .panel__body');
      middenpanel.innerHTML = `
        <h3 class="panel__title">🎉 Template Klaar!</h3>
        
        <div class="alert alert-success">
          <strong>✅ Template Succesvol Gegenereerd!</strong><br>
          Je aangepaste GHX template is klaar voor download.
        </div>

        <div style="background: #f8f9fa; padding: 20px; border-radius: 6px; margin: 20px 0;">
          <h4 style="margin: 0 0 12px 0;">📄 Template Details</h4>
          <p><strong>Bestand:</strong> GHX_Template_MED-NONE-PACK_20250815_153000.xlsx</p>
          <p><strong>Grootte:</strong> 1.1 MB</p>
          <p><strong>Gegenereerd:</strong> 2025-08-15 15:30:00</p>
          <p><strong>Preset:</strong> MED-NONE-PACK</p>
        </div>

        <div class="text-center" style="margin: 32px 0;">
          <button class="btn btn-primary" onclick="downloadTemplate()">
            📥 Download Template
          </button>
        </div>

        <div style="display: flex; gap: 16px; margin-top: 24px;">
          <button class="btn btn-secondary" onclick="location.reload()">
            🔄 Nieuw Template Maken
          </button>
          <button class="btn btn-secondary" onclick="showStep2()">
            ⬅️ Terug naar Generatie
          </button>
        </div>
      `;
    }

    function downloadTemplate() {
      // Simuleer download (in echte app zou dit een werkelijke download zijn)
      alert('Template download gestart! In de echte app zou hier het Excel bestand gedownload worden.');
    }

    // Update context preview when form changes
    function updateContextPreview() {
      const context = {
        template_choice: document.querySelector('input[name="bestellers"]:checked').value === '1' ? 'custom' : 'standard',
        gs1_mode: document.querySelector('select').value || 'none',
        all_orderable: document.getElementById('orderable')?.checked || false,
        product_type: 'medisch',
        has_chemicals: document.getElementById('chemicals')?.checked || false,
        is_staffel_file: document.querySelector('input[name="staffel"]:checked')?.value === 'ja',
        institutions: Array.from(document.querySelector('.multi-select').selectedOptions).map(o => o.value),
        version: "v1.0.0"
      };
      
      document.getElementById('context-preview').textContent = JSON.stringify(context, null, 2);
    }

    // Add event listeners for live preview updates
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('input, select').forEach(el => {
        el.addEventListener('change', updateContextPreview);
      });
      updateContextPreview();
    });
  </script>

</body>
</html>
